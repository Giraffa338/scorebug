<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Controllo Score</title>
<style>
body { font-family: Arial; padding: 25px; font-size: 22px; }
input { padding: 6px; font-size: 20px; width: 200px; margin: 8px 0; }
button { padding: 12px 18px; margin: 6px; font-size: 20px; }
</style>
</head>

<body>

<h2>Controllo Score (Remote)</h2>

<label>Team 1:</label><br>
<input id="t1" value="Team 1"><br>
<button onclick="s1(-1)">-1</button>
<button onclick="s1(1)">+1</button>
<input id="p1" type="number" value="0"><br><br>

<label>Team 2:</label><br>
<input id="t2" value="Team 2"><br>
<button onclick="s2(-1)">-1</button>
<button onclick="s2(1)">+1</button>
<input id="p2" type="number" value="0"><br><br>

<button onclick="send()">AGGIORNA OVERLAY</button>
<button onclick="resetAll()">RESET</button>
<button onclick="swapTeams()">SCAMBIA SQUADRE</button>

<script>
const overlayWindow = () => window.parent || window.opener || window;

function send() {
  overlayWindow().postMessage({
    type: "updateScore",
    team1: t1.value,
    score1: Number(p1.value),
    score2: Number(p2.value),
    team2: t2.value
  }, "*");
}

function s1(v){ p1.value = Number(p1.value) + v; send(); }
function s2(v){ p2.value = Number(p2.value) + v; send(); }

function resetAll(){
  t1.value="Team 1"; p1.value=0;
  t2.value="Team 2"; p2.value=0;
  send();
}

function swapTeams(){
  let nt1 = t1.value, ns1 = p1.value;
  t1.value = t2.value; p1.value = p2.value;
  t2.value = nt1; p2.value = ns1;
  send();
}
</script>
</body>
</html>
